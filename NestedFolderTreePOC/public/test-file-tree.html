<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8" />
    <title>Test file-tree</title>
    <script src="https://cdn.jsdelivr.net/npm/file-tree-element"></script>
    <script src="tree-test.js"></script>
</head>
<body>

<button id="pick">Pick Folder</button>
<file-tree id="tree"></file-tree>

<script>
document.getElementById('pick').onclick = async () => {
    const root = await fsExplorer.pickRootFolder();
    if (!root) return;

    const tree = document.getElementById('tree');

    // file-tree will ask for children â†’ we plug into your backend
    tree.dataSource = async (path) => {
        const items = await fsExplorer.loadFolder(path || root);
        return items.map(i => ({
            name: i.name,
            path: i.path,
            type: i.isDirectory ? "directory" : "file"
        }));
    };

    tree.path = root;
};
</script>

</body>
</html>
